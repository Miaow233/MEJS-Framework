# 词库
**在使用词库文件前，请仔细阅读本编文章，以免造成不必要的损失**

1. 尽量避免使用自己不了解来源的词库文件
2. 在初次使用词库文件时，请关闭敏感权限(发送红包)
3. 不需要红包支付功能时，请不要填写支付密码
- [关于词库](dic/dic-intro.md)
- [词库结构]()
- [词库信息](dic/dic-info.md)
- [词库语法](dic/dic.md)
- [词库加密](dic/dic-encrypt.md)

## 词库信息
**词库信息必须处于`[词库信息]`标签以下，不可空行，不可缺省**

|标签|说明|参数|参数类型|必须|
|--|--|--|--|--|
|名称|词库名称|自定义|文本|否|
|图标|词库图标|自定义|网址|否|
|作者|词库作者|自定义|文本|否|
|版本|词库版本|自定义|文本|否|
|简介|词库简介|自定义|文本|否|
|官网|词库官网|自定义|网址|否|
|关机|关机指令，调用同名模块|自定义|文本|是|
|开机|开机指令，调用同名模块|自定义|文本|是|
|类型|词库使用的语言类型|可选|`JavaScript` `text`|否(默认`text`)|
|加密|词库是否已加密|自动生成不可定义|`true` `false`|否|

注意事项：词库标签后可使用`*`号进行标记，在加密时指定不可修改的项目

如：

* 作者：小社*

加密后未添加`*`号的项目为允许修改的项目，请注意

例子:
```
[词库信息]
名称:词库DEMO
图标:www.dicq.online/1.jpg
作者:小社
版本:1.0
简介:这只是一个例子的简介，内容根据自己的词库说明进行修改
官网:www.dicq.online
开机:机器人启动
关机:机器人关闭
```

## 词库语法
| 说明       | 语法                      | 样例                              | 注意事项                                                     |
| ---------- | ------------------------- | --------------------------------- | :----------------------------------------------------------- |
| 设置变量   | 变量名(单个字符):变量值   | A:这个是变量A的值                 | 无法使用多个字符                                             |
| 获取变量   | @变量名(单个字符)         | @A                                | 内置特殊变量为多字节变量                                     |
| 计算       | calc(公式)                | calc(1+2+3)                       | 支持+(加法)-(减法)*(乘法)/(除)%(取余数)                      |
| 判断       | goto(条件)>>跳过的行数    | goto(1<2)>>1                      | 跳过的行数为当前行开始往下，如值为负数则往上，网上时计算goto语句本身为一行 |
| 调用       | 类名->方法名(参数)        | Toolkit->access(url)              | 多个参数使用\,分开                                           |
| JSON获取   | JSON字符串(键名)          | {"name":"XXXX"}(name)             | 取出json里面name的值XXXX                                     |
| 字符串截取 | 字符串[开始位置:结束位置] | Hello Medic[5:]                   | 截取从开始位置到结束位置之间的字符串，负数为倒数位置，起始位置留空为默认开头，结束位置留空为默认结尾 |
| 中断代码   | return`空格`              | return 代码到此结束，之后不再执行 | return后面有一个空格                                         |


内置变量:

- @robot = 机器人QQ
- @group = 群号
- @groupName = 群名称
- @uin = 发送者QQ
- @code = 群code
- @nick = 发送者昵称
- @mark = 消息标记
- @time = 消息发送时间
- @title = 标题
- @machineCode = 机器码
- @path = 手机根目录
